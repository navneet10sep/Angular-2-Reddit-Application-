<div class='row newpost-container'>
<div class='col-md-8 col-sm-12 col-md-offset-2'>


<form class="newpost-form" [formGroup]="newpostForm" novalidate (ngSubmit)="save(newpostForm.value, newpostForm.valid)" >
<h3> <i class='glyphicon glyphicon-edit'></i> Submit New Post</h3>
<hr/>

<alert></alert>

  <div class='form-group'>
  <label for="title">Title*</label>
  <input type='text' class='form-control' formControlName="title" id="title" placeholder="Enter title" />
  <control-messages [control]="newpostForm.controls.title"></control-messages>
  </div>

          <div class="form-group">
          <label>Type</label>
          </div>



        <div formGroupName="postType">
          
           <div class="row">
            <div class="col-xs-6">
              <button type="button" (click)="setType(POST_TYPE.TEXT)" 
                class="btn no-radius btn-block text-capitalize"
                [class.btn-default]="newpostForm.controls.postType.controls.type.value !== POST_TYPE.TEXT" 
                [class.btn-primary]="newpostForm.controls.postType.controls.type.value === POST_TYPE.TEXT">
                <i class='glyphicon glyphicon-pencil'></i> {{ POST_TYPE.TEXT }}
              </button>
            </div>
            <div class="col-xs-6">
              <button type="button" (click)="setType(POST_TYPE.LINK)" 
                class="btn no-radius btn-block text-capitalize"
                [class.btn-default]="newpostForm.controls.postType.controls.type.value !== POST_TYPE.LINK" 
                [class.btn-primary]="newpostForm.controls.postType.controls.type.value === POST_TYPE.LINK">
               <i class='glyphicon glyphicon-link'></i> {{ POST_TYPE.LINK }}
              </button>
            </div>
          </div>


          <div class="col-xs-12 panel panel-default posttype-panel" 
            *ngIf="newpostForm.controls.postType.controls.type.value === POST_TYPE.TEXT">
            <div class="panel-body">
              <div class="form-group col-xs-8" formGroupName="text">
                <label>Desc</label>
                <textarea class="form-control" formControlName="desc"></textarea>
                <small *ngIf="!newpostForm.controls.postType.controls.text.controls.desc.valid" 
                  class="text-danger">
                 Required.
                </small>
              </div>


            </div>
          </div>
 

          <div class="col-xs-12 panel panel-default posttype-panel" 
            *ngIf="newpostForm.controls.postType.controls.type.value === POST_TYPE.LINK">
            <div class="panel-body">
              <div class="form-group col-xs-8" formGroupName="link">
                <label>Link </label>
                <input type="text" class="form-control" formControlName="link">
                <small *ngIf="!newpostForm.controls.postType.controls.link.controls.link.valid" 
                  class="text-danger">
                 Required (Must be valid link) 
                </small>
              </div>
            </div>
          </div>
      
</div>

        <hr/>
        <div>
          <button type="submit" class="btn btn-primary  " [disabled]="!newpostForm.valid">Submit</button>
        </div>
        <div class="clearfix"></div>
        <br/>
        <br/>

 
</form>


</div>
</div>

 